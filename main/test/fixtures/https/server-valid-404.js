// Generated by CoffeeScript 1.10.0

/*
 * server-checker : test/fixtures/https/server-valid-404
 * Author: MrKMG (https://github.com/mrkmg)
 *
 * MIT License
 */

(function() {
  var fs, https;

  fs = require('fs');

  https = require('https');

  module.exports = function() {
    var client, options;
    options = {
      key: fs.readFileSync('main/test/fixtures/https/certs/valid.key'),
      cert: fs.readFileSync('main/test/fixtures/https/certs/valid.cert')
    };
    client = https.createServer(options, function(request, response) {
      response.writeHead(404, {
        'Content-Type': 'text/plain'
      });
      return response.end('Error 404');
    });
    return {
      start: function(port, callback) {
        return client.listen(port, callback);
      },
      stop: function(callback) {
        return client.close(callback);
      }
    };
  };

}).call(this);
