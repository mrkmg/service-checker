// Generated by CoffeeScript 1.10.0

/*
 * server-checker : test/specs/bin/scheck
 * Author: MrKMG (https://github.com/mrkmg)
 *
 * MIT License
 */

(function() {
  var assert, chai, scheck;

  chai = require('chai');

  chai.use(require('chai-as-promised'));

  assert = chai.assert;

  scheck = require('../../../bin/scheck');

  describe('BIN: scheck', function() {
    it('should process one argument correctly', function() {
      return assert.isFulfilled(scheck(['path/to/node', 'path/to/scheck', '127.0.0.1']));
    });
    it('should process two arguments correctly', function() {
      return assert.isFulfilled(scheck(['path/to/node', 'path/to/scheck', 'ping', '127.0.0.1']));
    });
    it('should reject on no arguments', function() {
      return assert.isRejected(scheck(['path/to/node', 'path/to/scheck']));
    });
    it('should reject on too many arguments', function() {
      return assert.isRejected(scheck(['path/to/node', 'path/to/scheck', 'ping', 'host1', 'host2']));
    });
    return it('should reject on unknown type', function() {
      assert.isRejected(scheck(['path/to/node', 'path/to/scheck', 'non_existant_check', 'host1']));
      return assert.isFulfilled(scheck(['path/to/node', 'path/to/scheck', 'ping', '169.254.0.0', '--timeout', '1000']));
    });
  });

}).call(this);
